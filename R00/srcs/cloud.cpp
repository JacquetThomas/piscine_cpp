#include <string>
#include <sstream>
#include <ncurses.h>
#include <stdlib.h>
#include "ft_retro.hpp"

static const std::string	g_clouds(
	"................                                                                                        ................\n"
	".................                                                                                      .................\n"
	"..................                                                                                    ..................\n"
	"...................                                                                                  ...................\n"
	"...................                                                                                  ...................\n"
	"...................                                                                                  ...................\n"
	"....................                                                                                ....................\n"
	"....................                                                                                ....................\n"
	"....................                                                                                ....................\n"
	"....................                                                                                ....................\n"
	"...................                                                                                  ...................\n"
	"..................                                                                                    ..................\n"
	"..................                                                                                    ..................\n"
	"..................                                                                                    ..................\n"
	"..................                                                                                    ..................\n"
	"..................                                                                                    ..................\n"
	"...................                                                                                  ...................\n"
	"...................                                                                                  ...................\n"
	"..................                                                                                    ..................\n"
	"..................                                                                                    ..................\n"
	".................                                                                                      .................\n"
	".................                                                                                      .................\n"
	"................                                                                                        ................\n"
	"................                                                                                        ................\n"
	"................                                                                                        ................\n"
	"................                                                                                        ................\n"
	"................                                                                                        ................\n"
	"................                                                                                        ................\n"
	".................                                                                                      .................\n"
	"...................                                                                                  ...................\n"
	"......................                                                                              ....................\n"
	".......................                                                                            .....................\n"
	"........................                                                                          ......................\n"
	"........................                                                                          ......................\n"
	".......................                                                                            .....................\n"
	"......................                                                                              ....................\n"
	"....................                                                                                 ...................\n"
	"...................                                                                                   ..................\n"
	"....................                                                                                 ...................\n"
	".....................                                                                               ....................\n"
	"......................                                                                             .....................\n"
	"......................                                                                             .....................\n"
	".....................                                                                               ....................\n"
	"....................                                                                                 ...................\n"
	"...................                                                                                   ..................\n"
	"..................                                                                                     .................\n"
	"..................                                                                                     .................\n"
	".................                                                                                       ................\n"
	".................                                                                                       ................\n"
	"................                                                                                         ...............\n"
	"................                                                                                          ..............\n"
);

void			print_cloud(WINDOW *win, size_t sizeX, size_t sizeY)
{
	std::string			line;
	std::stringstream	clouds;
	size_t				i = 0;

	start_color();
	init_color(66, 540, 940, 1000);

	init_pair(1, 66, COLOR_BLACK);
	wattron(win, COLOR_PAIR(1));
	while (i < sizeY)
	{
		clouds.clear();
		clouds << g_clouds;
		while (std::getline(clouds, line, '\n'))
		{
			mvwaddstr(win, i++, 0, line.substr(0, sizeX).c_str());
			if (i >= sizeY)
			{
				break ;
			}
		}
	}
	wattroff(win, COLOR_PAIR(1));
}
